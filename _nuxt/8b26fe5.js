(window.webpackJsonp=window.webpackJsonp||[]).push([[24,11,17],{363:function(t,e,n){"use strict";n.r(e);n(259);var o=n(379),r={components:{Identicon:n.n(o).a},props:{address:{type:String,default:function(){return""}},theme:{type:String,default:function(){return"substrate"}},size:{type:Number,default:function(){return 20}}},methods:{showToast:function(){this.$bvToast.toast(this.address,{title:"Address copied to clipboard!",variant:"success",autoHideDelay:5e3,appendToast:!1})}}},c=n(61),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-inline-block",attrs:{title:"Click to copy address to clipboard"},on:{click:t.showToast}},[n("Identicon",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.address,expression:"address",arg:"copy"}],key:t.address,staticClass:"identicon",attrs:{size:t.size,theme:"substrate",value:t.address}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Identicon:n(363).default})},365:function(t,e,n){"use strict";var o,r,c=n(366),l=n(16),d=(n(58),n(14),n(21),n(13),n(22),n(42),n(115),n(19),n(142),n(681)),f=n(922),m=n(374),v=n(114),_=n.n(v),h=n(941),k=n(899),y=n(372),x=n(75);e.a={methods:{shortAddress:function(address){return address.substring(0,5)+"…"+address.substring(address.length-5)},shortHash:function(t){return"".concat(t.substr(0,6),"…").concat(t.substr(t.length-4,4))},formatNumber:function(t){return Object(d.a)(t)?parseInt(t,16).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},formatAmount:function(t){return"".concat(new m.BigNumber(t).div(new m.BigNumber(10).pow(x.a.tokenDecimals)).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ").concat(x.a.tokenSymbol)},capitalize:function(s){return"string"!=typeof s?"":s.charAt(0).toUpperCase()+s.slice(1)},isBlockNumber:function(input){return/^[0-9]*$/.test(input)},isBlockHash:function(input){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(66!==input.length||!input.startsWith("0x")){e.next=7;break}return n=t.$apollo.provider.defaultClient,r=_()(o||(o=Object(c.a)(['\n          query block {\n            block(limit: 1, where: {block_hash: {_eq: "','"}}) {\n              block_number\n            }\n          }\n        '])),input),e.next=5,n.query({query:r});case 5:return l=e.sent,e.abrupt("return",l.data.block.length>0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})))()},isExtrinsicHash:function(input){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(66!==input.length||!input.startsWith("0x")){e.next=7;break}return n=t.$apollo.provider.defaultClient,o=_()(r||(r=Object(c.a)(['\n          query extrinsic {\n            extrinsic(limit: 1, where: {hash: {_eq: "','"}}) {\n              block_number\n            }\n          }\n        '])),input),e.next=5,n.query({query:o});case 5:return l=e.sent,e.abrupt("return",l.data.extrinsic.length>0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})))()},isHash:function(input){return!(!input||66!==input.length||!input.startsWith("0x"))},isAddress:function(input){return/^(([0-9a-zA-Z]{47})|([0-9a-zA-Z]{48}))$/.test(input)},getDateFromTimestamp:function(t){if(0===t)return"--";var e=new Date;return e.setTime(1e3*t),e.toUTCString()},isValidAddressPolkadotAddress:function(address){try{return Object(h.a)(Object(d.a)(address)?Object(f.a)(address.toString()):Object(k.a)(address)),!0}catch(t){return!1}},isContractId:function(t){return!!t&&(42===t.length&&!!Object(y.checkAddressChecksum)(t))}}}},367:function(t,e,n){"use strict";n.r(e);var o=n(61),component=Object(o.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("div",[t._v(t._s(t.$t("components.loading.loading_data")))])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading text-center"},[n("div"),t._v(" "),n("div")])}],!1,null,null,null);e.default=component.exports},370:function(t,e){},380:function(t,e){},381:function(t,e){},382:function(t,e){},383:function(t,e){},384:function(t,e){},385:function(t,e){},386:function(t,e){},387:function(t,e){},388:function(t,e){},389:function(t,e){},923:function(t,e,n){"use strict";n.r(e);n(4),n(3),n(5),n(2),n(6);var o,r=n(366),c=n(34),l=(n(15),n(1),n(73),n(76),n(187),n(114)),d=n.n(l),f=n(398),m=n.n(f),v=n(363),_=n(367),h=n(365),k=n(75);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w={components:{Loading:_.default,Identicon:v.default,JsonCSV:m.a},mixins:[h.a],data:function(){return{loading:!0,paginationOptions:k.b,perPage:localStorage.paginationOptions?parseInt(localStorage.paginationOptions):10,currentPage:1,sortBy:"favorite",sortDesc:!0,filter:null,filterOn:[],totalRows:1,fields:[{key:"rank",label:this.$t("pages.accounts.rank"),sortable:!0,class:"d-none d-sm-none d-md-table-cell d-lg-table-cell d-xl-table-cell"},{key:"account_id",label:"Account",sortable:!0},{key:"free_balance",label:this.$t("pages.accounts.free_balance"),sortable:!0,class:"d-none d-sm-none d-md-table-cell d-lg-table-cell d-xl-table-cell"},{key:"locked_balance",label:this.$t("pages.accounts.locked_balance"),sortable:!0,class:"d-none d-sm-none d-md-table-cell d-lg-table-cell d-xl-table-cell"},{key:"available_balance",label:this.$t("pages.accounts.available_balance"),sortable:!0,class:"d-none d-sm-none d-md-table-cell d-lg-table-cell d-xl-table-cell"},{key:"favorite",label:"⭐",sortable:!0,class:"d-none d-sm-none d-md-table-cell d-lg-table-cell d-xl-table-cell"}],accounts:[],favorites:[],polling:null}},computed:{parsedAccounts:function(){var t=this;return this.accounts.map((function(e,n){return x(x({rank:n+1},e),{},{favorite:t.isFavorite(e.account_id)})}))},sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))},accountsJSON:function(){return this.parsedAccounts}},watch:{favorites:function(t){this.$cookies.set("favorites",t,{path:"/",maxAge:604800})}},created:function(){this.$cookies.get("favorites")&&(this.favorites=this.$cookies.get("favorites"))},beforeDestroy:function(){clearInterval(this.polling)},methods:{setPageSize:function(t){localStorage.paginationOptions=t,this.perPage=parseInt(t)},toggleFavorite:function(t){return this.favorites.includes(t)?this.favorites.splice(this.favorites.indexOf(t),1):this.favorites.push(t),!0},isFavorite:function(t){return this.favorites.includes(t)},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}},apollo:{$subscribe:{accounts:{query:d()(o||(o=Object(r.a)(["\n          query account {\n            account(order_by: { free_balance: desc }, where: {}) {\n              account_id\n              identity_display\n              identity_display_parent\n              available_balance\n              free_balance\n              locked_balance\n            }\n          }\n        "]))),result:function(t){var data=t.data;this.accounts=data.account,this.totalRows=this.accounts.length,this.loading=!1}}}}},C=n(61),component=Object(C.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("section",[n("b-container",{staticClass:"page-accounts main py-5"},[n("b-row",{staticClass:"mb-2"},[n("b-col",{attrs:{cols:"12"}},[n("h1",[t._v("\n            "+t._s(t.$t("pages.accounts.active_accounts"))+"\n            "),1!==t.totalRows?n("small",{staticClass:"ml-1",staticStyle:{"font-size":"1rem"}},[t._v("["+t._s(t.formatNumber(t.totalRows))+"]")]):t._e()])])],1),t._v(" "),t.loading?n("div",{staticClass:"text-center py-4"},[n("Loading")],1):[n("b-row",[n("b-col",{staticClass:"mb-3",attrs:{lg:"12"}},[n("b-form-input",{attrs:{id:"filterInput",type:"search",placeholder:t.$t("pages.accounts.search_placeholder")},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)],1),t._v(" "),n("div",{staticClass:"row d-block d-sm-block d-md-block d-lg-none d-xl-none"},[n("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[n("b-form-group",{staticClass:"mb-4",attrs:{label:t.$t("pages.accounts.sort"),"label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"sortBySelect"}},[n("b-input-group",{attrs:{size:"sm"}},[n("b-form-select",{staticClass:"w-75",attrs:{id:"sortBySelect",options:t.sortOptions},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{value:""}},[t._v("-- none --")])]},proxy:!0}]),model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}),t._v(" "),n("b-form-select",{staticClass:"w-25",attrs:{size:"sm",disabled:!t.sortBy},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[n("option",{domProps:{value:!1}},[t._v("Asc")]),t._v(" "),n("option",{domProps:{value:!0}},[t._v("Desc")])])],1)],1)],1)],1),t._v(" "),n("JsonCSV",{staticClass:"download-csv mb-2",attrs:{data:t.accountsJSON,name:"subsocial_accounts.csv"}},[n("font-awesome-icon",{attrs:{icon:"file-csv"}}),t._v("\n          "+t._s(t.$t("pages.accounts.download_csv"))+"\n        ")],1),t._v(" "),n("div",[n("b-table",{attrs:{id:"accounts-table",striped:"",stacked:"md",fields:t.fields,items:t.parsedAccounts,"per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(rank)",fn:function(data){return[n("p",{staticClass:"text-right mb-0"},[t._v("#"+t._s(data.item.rank))])]}},{key:"cell(account_id)",fn:function(data){return[n("div",{staticClass:"d-block d-sm-block d-md-none d-lg-none d-xl-none text-center"},[n("p",{staticClass:"mb-2"},[t._v("\n                  "+t._s(t.$t("pages.accounts.rank"))+" #"+t._s(data.item.rank)+"\n                ")]),t._v(" "),n("Identicon",{key:data.item.account_id,attrs:{address:data.item.account_id,size:40}}),t._v(" "),n("nuxt-link",{attrs:{to:"/account/"+data.item.account_id,title:t.$t("pages.accounts.account_details")}},[n("h4",[t._v(t._s(t.shortAddress(data.item.account_id)))])]),t._v(" "),data.item.identity_display?n("p",{staticClass:"mb-0"},[t._v("\n                  "+t._s(data.item.identity_display)+"\n                ")]):t._e(),t._v(" "),n("table",{staticClass:"table table-striped mt-4"},[n("tbody",[n("tr",[n("td",{staticClass:"text-left"},[n("strong",[t._v(t._s(t.$t("pages.accounts.free_balance")))])]),t._v(" "),n("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(t.formatAmount(data.item.free_balance))+"\n                      ")])]),t._v(" "),n("tr",[n("td",{staticClass:"text-left"},[n("strong",[t._v(t._s(t.$t("pages.accounts.available_balance")))])]),t._v(" "),n("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(t.formatAmount(data.item.available_balance))+"\n                      ")])]),t._v(" "),n("tr",[n("td",{staticClass:"text-left"},[n("strong",[t._v(t._s(t.$t("pages.accounts.locked_balance")))])]),t._v(" "),n("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(t.formatAmount(data.item.locked_balance))+"\n                      ")])])])])],1),t._v(" "),n("div",{staticClass:"d-none d-sm-none d-md-block d-lg-block d-xl-block"},[n("Identicon",{key:data.item.account_id,attrs:{address:data.item.account_id,size:20}}),t._v(" "),n("nuxt-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{to:"/account/"+data.item.account_id,title:t.$t("pages.accounts.account_details")}},[t._v("\n                  "+t._s(t.shortAddress(data.item.account_id))+"\n                ")])],1)]}},{key:"cell(free_balance)",fn:function(data){return[n("p",{staticClass:"text-right mb-0"},[t._v("\n                "+t._s(t.formatAmount(data.item.free_balance))+"\n              ")])]}},{key:"cell(locked_balance)",fn:function(data){return[n("p",{staticClass:"text-right mb-0"},[t._v("\n                "+t._s(t.formatAmount(data.item.locked_balance))+"\n              ")])]}},{key:"cell(available_balance)",fn:function(data){return[n("p",{staticClass:"text-right mb-0"},[t._v("\n                "+t._s(t.formatAmount(data.item.available_balance))+"\n              ")])]}},{key:"cell(favorite)",fn:function(data){return[n("p",{staticClass:"text-center mb-0"},[n("a",{staticClass:"favorite",on:{click:function(e){return t.toggleFavorite(data.item.account_id)}}},[data.item.favorite?n("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticStyle:{color:"#f1bd23",cursor:"pointer"},attrs:{icon:"star",title:t.$t("pages.accounts.remove_from_favorites")}}):n("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticStyle:{color:"#e6dfdf",cursor:"pointer"},attrs:{icon:"star",title:t.$t("pages.accounts.add_to_favorites")}})],1)])]}}])})],1),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("div",{staticClass:"d-none d-sm-none d-md-none d-lg-block d-xl-block"},[n("b-button-group",t._l(t.paginationOptions,(function(option,e){return n("b-button",{key:e,class:{"selected-per-page":t.perPage===option},attrs:{variant:"outline-secondary"},on:{click:function(e){return t.setPageSize(option)}}},[t._v("\n                  "+t._s(option)+"\n                ")])})),1)],1),t._v(" "),n("div",{staticClass:"d-block d-sm-block d-md-block d-lg-none d-xl-none"},[n("b-dropdown",{staticClass:"m-md-2",attrs:{text:"Page size",variant:"outline-secondary"}},t._l(t.paginationOptions,(function(option,e){return n("b-dropdown-item",{key:e,on:{click:function(e){return t.setPageSize(10)}}},[t._v("\n                  "+t._s(option)+"\n                ")])})),1)],1)]),t._v(" "),n("div",{staticClass:"col-6"},[n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage,"aria-controls":"my-table",variant:"dark",align:"right"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])]],2)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Loading:n(367).default,Identicon:n(363).default})}}]);